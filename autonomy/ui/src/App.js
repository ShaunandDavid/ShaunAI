import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useEffect, useState } from "react";
import { Sidebar } from "./components/Sidebar";
import { PreviewPane } from "./components/PreviewPane";
import { Card, CardContent, CardHeader } from "./components/ui/card";
import { getStatus, getTasks } from "./lib/api";
import { ChatWindow } from "./components/ChatWindow";
import { ChatComposer } from "./components/ChatComposer";
import "./App.css";
export default function App() {
    const [status, setStatus] = useState(null);
    const [tasks, setTasks] = useState("");
    async function refresh() {
        setStatus(await getStatus());
        setTasks(await getTasks());
    }
    useEffect(() => { refresh(); }, []);
    return (_jsxs("div", { className: "min-h-screen bg-gradient-to-br from-[#f7f7f8] via-white to-[#eef1f7] text-black", children: [_jsx("header", { className: "sticky top-0 z-40 backdrop-blur-md bg-white/70 border-b border-black/10", children: _jsxs("div", { className: "mx-auto max-w-[1400px] px-4 md:px-8 h-14 flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("span", { className: "inline-block h-2.5 w-2.5 rounded-full bg-emerald-600 shadow-[0_0_0_3px_rgba(16,185,129,0.25)]" }), _jsx("h1", { className: "text-sm md:text-base font-semibold tracking-tight", children: "ShaunAI \u2014 Operator" }), _jsx("span", { className: "hidden md:block text-xs text-black/60", children: "plan \u2192 act \u2192 verify \u2192 log \u2192 next" })] }), _jsxs("div", { className: "text-xs text-black/60", children: ["model: ", _jsx("b", { children: status?.model ?? "…" }), " \u00B7 queue: ", _jsx("b", { children: status?.tasks ?? "…" }), " \u00B7 time: ", _jsx("b", { children: status?.time ?? "…" })] })] }) }), _jsxs("main", { className: "mx-auto max-w-[1400px] px-4 md:px-8 py-6 grid grid-cols-12 gap-4", children: [_jsxs("section", { className: "col-span-12 md:col-span-3 space-y-4", children: [_jsxs(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: [_jsx(CardHeader, { children: _jsx("h2", { className: "text-lg font-semibold", children: "Ops Snapshot" }) }), _jsxs(CardContent, { className: "text-sm grid grid-cols-3 gap-2", children: [_jsxs("div", { className: "rounded-xl border border-black/10 bg-white/70 p-2", children: [_jsx("div", { className: "text-[11px] text-black/60", children: "Model" }), _jsx("div", { className: "font-medium", children: status?.model ?? "…" })] }), _jsxs("div", { className: "rounded-xl border border-black/10 bg-white/70 p-2", children: [_jsx("div", { className: "text-[11px] text-black/60", children: "Queue" }), _jsx("div", { className: "font-medium", children: status?.tasks ?? "…" })] }), _jsxs("div", { className: "rounded-xl border border-black/10 bg-white/70 p-2", children: [_jsx("div", { className: "text-[11px] text-black/60", children: "Time" }), _jsx("div", { className: "font-medium", children: status?.time ?? "…" })] })] })] }), _jsxs(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: [_jsx(CardHeader, { children: _jsx("h2", { className: "text-lg font-semibold", children: "Queue Control" }) }), _jsx(CardContent, { className: "p-0", children: _jsx(Sidebar, { onRefresh: refresh }) })] })] }), _jsxs("section", { className: "col-span-12 md:col-span-6 space-y-4", children: [_jsx(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: _jsx(CardContent, { className: "p-0", children: _jsx(ChatWindow, {}) }) }), _jsx(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: _jsx(CardContent, { children: _jsx(ChatComposer, { onQueued: (ok) => ok && refresh() }) }) }), _jsxs(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: [_jsx(CardHeader, { children: _jsx("h2", { className: "text-lg font-semibold", children: "Tasks (read-only)" }) }), _jsx(CardContent, { children: _jsx("pre", { className: "text-xs whitespace-pre-wrap opacity-80", children: tasks || "(empty)" }) })] })] }), _jsxs("section", { className: "col-span-12 md:col-span-3 space-y-4", children: [_jsxs(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: [_jsx(CardHeader, { children: _jsx("h2", { className: "text-lg font-semibold", children: "Preview" }) }), _jsx(CardContent, { className: "p-0", children: _jsx(PreviewPane, {}) })] }), _jsxs(Card, { className: "backdrop-blur-md bg-white/70 shadow-xl shadow-black/5", children: [_jsx(CardHeader, { children: _jsx("h2", { className: "text-lg font-semibold", children: "Artifacts" }) }), _jsxs(CardContent, { className: "text-sm opacity-80", children: ["Check outputs in ", _jsx("code", { children: "/artifacts" }), " and ", _jsx("code", { children: "/content" }), "."] })] })] })] })] }));
}
